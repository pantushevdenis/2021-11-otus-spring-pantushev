# Spring Data JPA
Домашняя работа

Пантюшев Д.А.  
2021-11-otus-spring  
otus.ru  
2021-2022 гг.

### Краткое описание
Использовать MongoDB и spring-data для хранения информации о книгах

### Цель
После выполнения ДЗ вы сможете использовать Spring Data MongoDB и саму MongoDB для разработки приложений с хранением данных в нереляционной БД.  
Результат: Приложение с использованием MongoDB.  

### Требования
1. Использовать Spring Data MongoDB репозитории, а если не хватает функциональности, то и *Operations. 
2. Тесты можно реализовать с помощью Flapdoodle Embedded MongoDB.
3. Hibernate, равно, как и JPA, и spring-boot-starter-data-jpa не должно остаться в зависимостях, если ДЗ выполняется на основе предыдущего.
4. Как хранить книги, авторов, жанры и комментарии решать Вам. Но перенесённая с реляционной базы структура не всегда будет подходить для MongoDB.

### Рекомендации к выполнению работы:

### Примечания 
Это домашнее задание выполняется на основе предыдущего.  
Это задание может использоваться в дальнейшем, а может не использоваться - на Ваше дальнейшее усмотрение.

### Замечания по реализации
1. По-прежнему выбрана следующая архитектура: несколько репозиториев для доступа к данным, 
по одному на каждую коллекцию, и один сервис работы с данными (в реальном приложении - несколько, 
с группировкой по бизнес-функциям).
2. Коллекции и объекты.
   1. Для Авторов и Жанров созданы отдельные коллекции справочников с полной информацией по авторам и жанрам
      (к примеру, данные по авторам содержат дни рождения).
   2. В объект книги включается усеченная информация по авторам и жанрам, но с идентификатором, 
        позволяющим найти полную информацию. Определены отдельные классы для этого.
   3. Комментарии включаются в книгу массивом без отдельной коллекции.
3. Дропдайн-списки для авторов и жанров берутся из коллекции справочников, но содержат только идентификатор 
    и краткое наименование. Отдельно списки не хранятся.
4. При добавлении документа книги реализован поиск Автора и Жанра по части id, на которую он заканчивается.
5. Обновление документа книги раеализован с передачей функции полного идентификатора. Это менее удобно, но реализовано
    в академических целях.




